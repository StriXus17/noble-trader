import ccxt
import pandas as pd
import pandas_ta as ta
import sys
import requests
from time import sleep
symbols = ["BTCUSDT","OCEANUSDT","GBPUSDT"]
binance = ccxt.binance()
kucoin = ccxt.kucoin()
def check_crossing(x):
    timeframe = '1d'
    sinceb = binance.milliseconds() - 100 * 24 * 60 * 60 * 1000
    sincek = kucoin.milliseconds() - 100 * 24 * 60 * 60 * 1000
    try:
        data = binance.fetch_ohlcv(x, timeframe, since=sinceb)
    except:
        try:
            data = kucoin.fetch_ohlcv(x, timeframe, since=sincek)
        except:
            return "Error"
    df = pd.DataFrame(data)
    rsi = ta.momentum.rsi(df[4], n=14)
    rsi = rsi.dropna()
    sma = ta.sma(rsi, length=14)
    rsi = rsi.values[-1]
    sma = sma.dropna().values[-1]
    return rsi,sma
blacklist = [
  "Axs",
  "Ankr",
  "Astr",
  "Auto",
  "Multi",
  "Dar",
  "Cro",
  "Tlm",
  "Eqz",
  "Ooki",
  "Chess",
  "Ont",
  "Pnt",
  "Lever",
  "Ilv",
  "High",
  "Gno",
  "Fun",
  "Crv",
  "Yfi",
  "Ldo",
  "Burger",
  "Flm",
  "Blz",
  "Snx",
  "Ygg",
  "Brd",
  "Sparta",
  "Anc",
  "Alice",
  "Loka",
  "Akro",
  "Adx",
  "ACA",
  "Aave",
  "1inch",
  "Audio",
  "Alpha",
  "Badger",
  "Bake",
  "Cake",
  "Bal",
  "Bel",
  "Beta",
  "Bnt",
  "Bifi",
  "Bond",
  "Flare",
  "Bxs",
  "Bts",
  "C98",
  "Comp",
  "Ctx",
  "Dexe",
  "DF",
  "Cream",
  "Alpine",
  "Ez",
  "Cvx",
  "Epx",
  "Gala",
  "Ghst",
  "Hard",
  "Idex",
  "Joe",
  "Knc",
  "Lina",
  "Lunc",
  "Luna",
  "Jst",
  "Mdx",
  "Mft",
  "Mir",
  "Neo",
  "Om",
  "Nexo",
  "Perp",
  "Rep",
  "Rai",
  "Rune",
  "Sun",
  "Shib",
  "Slp",
  "Spell",
  "Super",
  "Sushi",
  "T",
  "TKO",
  "Troy",
  "Tribe",
  "Uma",
  "Tru",
  "Unfi",
  "Uni",
  "Vgx",
  "Voxel",
  "Wbtc",
  "Wing",
  "Front",
  "Stg",
  "Woo",
  "SRM",
  "Coti",
  "Pols",
  "Ray",
  "Reef",
  "Xvs",
  "Yfii",
  "Mbox",
  "Mln",
  "Mkr",
  "Orn",
  "Kp3r",
  "Wnxm",
  "Fxs",
  "Kava",
  "Inj",
  "Mc",
  "Mbl",
  "Cvp",
  "Ren",
  "Bzrx",
  "Sui",
  "Ppt",
  "Kcs",
  "Gvt",
  "Hegic",
  "Cult",
  "NMR",
  "Kicks",
  "Asd",
  "Sfund",
  "Boba",
  "Zcx",
  "Route",
  "Ltx",
  "NRG",
  "Urus"]